<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<header>
  <!-- Bootstrap 4 CSS -->
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

   <!-- CSS -->
   <link rel="stylesheet" href="@{/request.css}" />


</header>
<body>
<th:block th:replace="~{/layout/basic :: setContent(~{this::content})}">
  <th:block th:fragment="content">
 <div class="request_container">

  <!-- 전체 내용----------------------------------------------------------------->
   <div class="request_container">
    <div class="container mt-5" style="max-width: 480px;">
      <h4 class="mb-4 font-weight-bold">&lt; 의뢰서 작성 &gt;</h4>

      <form th:action="@{/smash/request/register}" method="post" enctype="multipart/form-data">

        <!-- 제목 -->
        <div>
            <label>제목</label>
            <input type="text" name="title" class="form-control" required>
        </div>
      

          <!-- 해시태그 -->
        <div class="form-group">
          <label for="hashtag">해시태그 <small class="text-muted">(띄어쓰기 기준으로 적용)</small></label>
          <input type="text" id="hashtag" class="form-control"  name="hashtags" placeholder="해시태그 입력 (예: 캠핑 운동)">
        </div>

        <div>
            <label>내용</label>
            <textarea name="content" class="form-control" placeholder="대여 기간과 자세한 내용을 기재해주세요." required></textarea>
        </div>

        <div>
            <label>대여 날짜</label>
            <input type="datetime-local" name="useDate" class="form-control" required>
        </div>

       <!-- 대여 지역 -->
         <div class="form-group">
          <label for="useRegion">대여 지역</label>
          <div class="input-group mb-2">
            <input type="text" 
                  class="form-control" 
                  id="useRegion" 
                  name="useRegion"                
                  placeholder="주소를 검색해주세요" 
                  readonly 
                  required>
            <div class="input-group-append">
              <button type="button" class="btn btn-dark" onclick="execDaumPostcode()">주소 찾기</button>
            </div>
          </div>

          <input type="text" 
                class="form-control" 
                id="detailAddress" 
                name="detailAddress" 
                placeholder="상세 주소를 입력하세요" 
                required>
        </div>   

         <!-- 제출 버튼 -->
        <button type="submit" class="btn btn-dark btn-block mt-4">작성 완료</button>

      </form>
  </div>

  
   <!-- 주소 불려오기 -->
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
      function execDaumPostcode() {
        new daum.Postcode({
          oncomplete: function(data) {
            // 주소 받아오기
            document.getElementById("useRegion").value = data.address;
            document.getElementById("detailAddress").focus();
          }
        }).open();
      }
    </script>


  </th:block>
</th:block>
</body>
</html>